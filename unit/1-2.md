# MC的服务端介绍

>此部分为tdiant撰写，作者仅作小幅更改，特此告知

如果你想开一个MC服务器, 你会发现有各式各样的服务端可以选择. 由于MC是一款社区驱动发展的游戏, 各种各样的玩家社区正在以非常快的速度开发以及维护各式各样的服务端.  
那么, 它们都是什么? 它们本质上是怎样的? 本节大致上以时间顺序进行叙述来讲述这个问题.

## Minecraft Server

最早的时候, Minecraft只有Java版本(不存在所谓的"BedRock Edition"), 在每个版本(不考虑远古版本)发布时, <del>麻将</del>Mojang都会同时发布其对应的服务端文件.  
利用服务端文件可以快速开启一个Minecraft服务器, 这种服务器俗称为官服.

服务器启动后, 会在根目录下创建`server.properties`文件, 这是它的配置文件.

在配置文件里可以对服务器端口等内容进行设置. 在这里需要重点提及的是其中的一个设置项目`online-mode`.  
这一项设置在自动生成时默认为`true`,你可以手动将其修改为`false`,即关闭"在线模式"
这种状态可以让未使用Mojang或Microsoft正版账号登陆的玩家进入服务器(用我们大天朝的话来讲就是"盗版模式")

## Bukkit服务端

官服有显而易见的问题, 那就是没有“插件系统”.  
如果你是一个盗版服务器服主, 你根本没办法对玩家进行“身份识别”, 因为所有的玩家都可以把启动器中的玩家名修改成另一个玩家, 从而“代替”他连入服务器. 如果你想把服务器内的TNT禁止掉, 或者你有特殊需求, 就偏偏想让玩家没法把手里的钻石扔在地上, 正常情况下根本无法在官服实现这个功能.  
MC日渐完善的红石和命令方块功能根本无法满足社区玩家对服务器自定义的需求, 因而一种成熟的“插件系统”显得极为迫切.

Bukkit因此出现.

Bukkit服务端启动后会额外多创建一个配置文件`bukkit.yml`, 还有一个名为`plugins`的文件夹.  
服主可以将插件jar文件放入`plugins`文件夹并重新加载服务器使之生效, 极为方便地安装一个插件. 开发者可以利用Bukkit官方给出的API开发一款插件, 丰富并拓展玩法.

## Spigot服务端

SpigotMC社区发布了Spigot服务端. 最开始是对Bukkit服务端的各种优化和拓展.

后来由于Bukkit服务端直接使用了Mojang的代码, 由于法律原因, Bukkit被Mojang起诉并败诉, Bukkit服务端停止开发.  
虽然Bukkit停止开发, 但是社区内Bukkit的热度依然很高, Bukkit服务端插件数量极大. 后来SpigotMC社区渐渐地接管了Bukkit的开发工作, 这意味着SpigotMC社区接管了BukkitAPI的维护工作.

SpigotMC为了逃避直接使用Mojang的代码带来的法律问题, 在发布服务端时用了`BuildTool`.具体运作模式大致是: 服主若想下载Spigot服务端, 需要先下载BuildTool, 正确使用BuildTool后, BuildTool会先下载一个官服Jar文件, 再下载SpigotMC社区特制的fernflower反编译工具把官服Jar文件反编译得到官服源代码, 再下载Spigot服务端的源码(这部分不包含Mojang的源代码), 一切准备完毕后, BuildTool会在用户的计算机上自动完成代码的植入以及编译工作, 制作出最终的Spigot服务端Jar文件.  
由于这一过程中, SpigotMC社区没有直接给用户提供官方源码二次修改成品, 因而规避了法律问题.

目前网上流传的Spigot服务端现成的Jar版本, 绝大多数都是基于BuildTool编译后的成品Jar文件. 实际上在SpigotMC社区官方网站上不提供这些成品Jar文件.

## BungeeCord反向代理端

> BungeeCord 是一个高性能的反向代理服务端，它可以将多个 Minecraft 服务器变成一个"群组服务器"  
> ——Sakura Mirror

你是否遇到过想把多个服务器连接起来却又没有办法的情况？  
BungeeCord就完美解决了这个问题  
准确来说，BungeeCord不属于服务器,他只是一个连接多个服务器的途径而已  
(虽说他的启动方式和其他服务端一样)  
同样是反向代理服务端的还有WaterFall,是BungeeCord的优化版  
更多的信息可以自行百度qwq  

## 其他的各种服务端

后来又有许多服务端基于Spigot进行修改, 创造出了其他各种各样的服务端. 例如`Paper`服务端, 它是基于Spigot服务端的社区优化版本.  
如果你运行了一个Paper服务端服务器, 你会发现服务端目录下会有`bukkit.yml`、`spigot.yml`、`paper.yml`这三个配置文件, 足以看出这背后的故事.

社区内还有单打独干的服务端. 例如在输掉官司后, 一些Bukkit服务端的开发者参与了一项几乎完全脱离官方服务端代码的服务端, 即`Sponge`服务端.

最早时还有`MCPC+`服务端. 其开发者将Spigot与Forge整合在一起, 使服务器既可以装MOD又可以装插件. 后来`MCPC+`改为了`Cauldron`, 又衍生出了`KCauldron`, 但这三款服务端都停在了1.7.10版本不再更新.  
社区还出现了`CatServer`、`Uranium`、`Arclight`等服务端, 它们可以也可以实现开出插件+MOD服的功能.  